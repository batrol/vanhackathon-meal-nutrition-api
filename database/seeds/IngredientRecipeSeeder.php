<?php

use GoCanada\Models\IngredientRecipe;
use Illuminate\Database\Seeder;

class IngredientRecipeSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        DB::unprepared("truncate table ingredient_recipe");

        $faker = Faker\Factory::create();

        for ($i=1; $i<=100; $i++) {

            $ndbnos = $this->getNdbnos();

            for ($j=0; $j<mt_rand(2, 10); $j++) {
                $ingredientRecipe = new IngredientRecipe();

                $ndbnos = array_values($ndbnos);

                $index = mt_rand(0, count($ndbnos) -1);

                $ndbno = $ndbnos[$index];
                unset($index);

                $ingredientRecipe->recipe_id = $i;
                $ingredientRecipe->ndbno     = $ndbno;
                $ingredientRecipe->quantity  = mt_rand(1, 5);

                $ingredientRecipe->save();

            }
        }
    }
    
    private function getNdbnos()
    {
        return $ndbno = [
            "09427",
            "09002",
            "14006",
            "14248",
            "14013",
            "14003",
            "14034",
            "14010",
            "14037",
            "14550",
            "14551",
            "14049",
            "14050",
            "14051",
            "14052",
            "14415",
            "14414",
            "14534",
            "14239",
            "14017",
            "43479",
            "14029",
            "14025",
            "43154",
            "14536",
            "14057",
            "43155",
            "14084",
            "14096",
            "14602",
            "14106",
            "14160",
            "14251",
            "14253",
            "11001",
            "20001",
            "28354",
            "04609",
            "09400",
            "09517",
            "09016",
            "09018",
            "09410",
            "09017",
            "36000",
            "36023",
            "36005",
            "36019",
            "36021",
            "36022",
            "36001",
            "36018",
            "36002",
            "36003",
            "36004",
            "09008",
            "09007",
            "09009",
            "09012",
            "09011",
            "09014",
            "09504",
            "09503",
            "09501",
            "09502",
            "09500",
            "09003",
            "09004",
            "09005",
            "09006",
            "09020",
            "09401",
            "09019",
            "09403",
            "09036",
            "09027",
            "09357",
            "09024",
            "09026",
            "09022",
            "09033",
            "09032",
            "09021",
            "21527",
            "18522",
            "18524",
            "18527",
            "18528",
            "18529",
            "18532",
            "18533",
            "18535",
            "18537",
            "18538",
            "18539",
            "18540",
            "18541",
            "18544",
            "18562",
            "18547",
            "18513",
            "11702",
            "11008",
            "11703",
            "11010",
            "11007",
            "11959",
            "11015",
            "11707",
            "11012",
            "11705",
            "11709",
            "11019",
            "11011",
            "18984",
            "18987",
            "28258",
            "18983",
            "18985",
            "18986",
            "18990",
            "28256",
            "18988",
            "28257",
            "18989",
            "09037",
            "09038",
            "09039",
            "42150",
            "03167",
            "03169",
            "03289",
            "03115",
            "03997",
            "42284",
            "43550",
            "42119",
            "43546",
            "03995",
            "03301",
            "03290",
            "42316",
            "03181",
            "03681",
            "42285",
            "03185",
            "03685",
            "03188",
            "03187",
            "03186",
        ];
    }
}
